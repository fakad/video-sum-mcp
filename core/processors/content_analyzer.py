#!/usr/bin/env python
# -*- coding: utf-8 -*-

"""
å†…å®¹åˆ†æå™¨ - ç”Ÿæˆç»Ÿä¸€æ ¼å¼çš„æ·±åº¦å†…å®¹åˆ†ææ–‡æ¡£
æ”¯æŒè§†é¢‘ã€æ–‡å­—ã€å›¾ç‰‡ç­‰å¤šç§å†…å®¹ç±»å‹
"""

import logging
from datetime import datetime
from typing import Dict, Any, List
import re

logger = logging.getLogger("video-sum-mcp.content_analyzer")

class ContentAnalyzer:
    """å†…å®¹åˆ†æå™¨ï¼Œç”Ÿæˆç»Ÿä¸€æ ¼å¼çš„æ·±åº¦å†…å®¹åˆ†æ"""
    
    def __init__(self):
        pass
    
    def analyze_and_generate_document(self, video_data: Dict[str, Any]) -> str:
        """
        åˆ†æå†…å®¹æ•°æ®å¹¶ç”Ÿæˆç»Ÿä¸€æ ¼å¼çš„æ·±åº¦åˆ†ææ–‡æ¡£
        
        å‚æ•°:
            video_data: å†…å®¹æå–æ•°æ®
            
        è¿”å›:
            Markdownæ ¼å¼çš„åˆ†ææ–‡æ¡£
        """
        platform = video_data.get('platform', 'æœªçŸ¥å¹³å°')
        metadata = video_data.get('metadata', {})
        content = video_data.get('content', '')
        
        # ç»Ÿä¸€ç”Ÿæˆæ ‡é¢˜æ ¼å¼
        platform_names = {
            'douyin': 'æŠ–éŸ³',
            'xiaohongshu': 'å°çº¢ä¹¦',
            'zhihu': 'çŸ¥ä¹',
            'bilibili': 'å“”å“©å“”å“©'
        }
        platform_cn = platform_names.get(platform, platform)
        title = f"{platform_cn}å†…å®¹æ·±åº¦åˆ†æ"
        
        # æ£€æµ‹å†…å®¹ç±»å‹
        content_type = self._detect_content_type(video_data)
        
        # ç”Ÿæˆç»Ÿä¸€æ ‡ç­¾
        tags = self._generate_unified_tags(platform, content_type)
        
        # åˆ†ææ ¸å¿ƒä¸»é¢˜ï¼ˆç»Ÿä¸€æ–¹æ³•ï¼‰
        core_topic = self._extract_unified_core_topic(platform, content_type, content)
        
        # ç”Ÿæˆç»Ÿä¸€æ ¼å¼æ–‡æ¡£
        doc = self._generate_unified_document(
            title=title,
            platform=platform,
            platform_cn=platform_cn,
            metadata=metadata,
            content=content,
            content_type=content_type,
            tags=tags,
            core_topic=core_topic,
            video_data=video_data
        )
        
        return doc
    
    def _detect_content_type(self, video_data: Dict[str, Any]) -> str:
        """æ£€æµ‹å†…å®¹ç±»å‹"""
        platform = video_data.get('platform', '')
        
        # æ ¹æ®å¹³å°å’ŒURLç‰¹å¾æ£€æµ‹å†…å®¹ç±»å‹
        if platform == 'douyin':
            return 'short_video'  # çŸ­è§†é¢‘
        elif platform == 'xiaohongshu':
            # å°çº¢ä¹¦å¯èƒ½æ˜¯è§†é¢‘ã€å›¾ç‰‡æˆ–æ–‡å­—ç¬”è®°
            return 'lifestyle_note'  # ç”Ÿæ´»ç¬”è®°ï¼ˆå¯åŒ…å«å›¾ç‰‡ã€æ–‡å­—ã€è§†é¢‘ï¼‰
        elif platform == 'zhihu':
            url = video_data.get('url', '')
            if 'zvideo' in url:
                return 'knowledge_video'  # çŸ¥è¯†è§†é¢‘
            elif 'zhuanlan' in url:
                return 'article'  # ä¸“æ æ–‡ç« 
            elif 'answer' in url:
                return 'qa_answer'  # é—®ç­”å›ç­”
            else:
                return 'knowledge_content'  # çŸ¥è¯†å†…å®¹
        elif platform == 'bilibili':
            return 'video_content'  # è§†é¢‘å†…å®¹
        else:
            return 'digital_content'  # æ•°å­—å†…å®¹
    
    def _generate_unified_tags(self, platform: str, content_type: str) -> List[str]:
        """ç”Ÿæˆç»Ÿä¸€çš„æ ‡ç­¾ä½“ç³»"""
        # åŸºç¡€æ ‡ç­¾ï¼ˆæ‰€æœ‰å†…å®¹éƒ½æœ‰ï¼‰
        base_tags = ["å†…å®¹åˆ†æ", "æ•°å­—åª’ä½“"]
        
        # å¹³å°æ ‡ç­¾
        platform_tags = {
            'douyin': ["æŠ–éŸ³", "çŸ­è§†é¢‘å¹³å°"],
            'xiaohongshu': ["å°çº¢ä¹¦", "ç”Ÿæ´»ç¤¾äº¤"],
            'zhihu': ["çŸ¥ä¹", "çŸ¥è¯†ç¤¾åŒº"],
            'bilibili': ["å“”å“©å“”å“©", "è§†é¢‘å¹³å°"]
        }
        
        # å†…å®¹ç±»å‹æ ‡ç­¾
        content_type_tags = {
            'short_video': ["çŸ­è§†é¢‘", "ç§»åŠ¨è§†é¢‘"],
            'lifestyle_note': ["ç”Ÿæ´»ç¬”è®°", "ç¤¾äº¤å†…å®¹"],
            'knowledge_video': ["çŸ¥è¯†è§†é¢‘", "æ•™è‚²å†…å®¹"],
            'article': ["é•¿æ–‡ç« ", "æ·±åº¦é˜…è¯»"],
            'qa_answer': ["é—®ç­”å†…å®¹", "çŸ¥è¯†åˆ†äº«"],
            'video_content': ["è§†é¢‘å†…å®¹", "å¨±ä¹åª’ä½“"],
            'knowledge_content': ["çŸ¥è¯†å†…å®¹", "ä¸“ä¸šåˆ†äº«"],
            'digital_content': ["æ•°å­—å†…å®¹", "ç½‘ç»œåª’ä½“"]
        }
        
        # ä¸»é¢˜æ ‡ç­¾
        theme_tags = ["å†…å®¹åˆ›ä½œ", "å¹³å°åˆ†æ", "ç”¨æˆ·ç ”ç©¶"]
        
        # åˆå¹¶æ‰€æœ‰æ ‡ç­¾
        all_tags = (base_tags + 
                   platform_tags.get(platform, []) + 
                   content_type_tags.get(content_type, []) + 
                   theme_tags)
        
        return all_tags[:8]  # é™åˆ¶æ ‡ç­¾æ•°é‡
    
    def _extract_unified_core_topic(self, platform: str, content_type: str, content: str) -> str:
        """ç»Ÿä¸€çš„æ ¸å¿ƒä¸»é¢˜æå–"""
        # åŸºäºå†…å®¹ç±»å‹çš„ä¸»é¢˜æ˜ å°„
        topic_mapping = {
            'short_video': "çŸ­è§†é¢‘å†…å®¹åˆ›ä½œä¸ä¼ æ’­",
            'lifestyle_note': "ç”Ÿæ´»åŒ–å†…å®¹åˆ†äº«ä¸ç¤¾äº¤",
            'knowledge_video': "çŸ¥è¯†è§†é¢‘æ•™è‚²ä¸ä¼ æ’­",
            'article': "æ·±åº¦å†…å®¹åˆ›ä½œä¸é˜…è¯»",
            'qa_answer': "çŸ¥è¯†é—®ç­”ä¸ç¤¾åŒºäº’åŠ¨",
            'video_content': "è§†é¢‘å¨±ä¹ä¸ç”¨æˆ·ä½“éªŒ",
            'knowledge_content': "çŸ¥è¯†åˆ†äº«ä¸ä¸“ä¸šäº¤æµ",
            'digital_content': "æ•°å­—å†…å®¹åˆ†æä¸æ´å¯Ÿ"
        }
        
        return topic_mapping.get(content_type, "æ•°å­—å†…å®¹åˆ†æä¸æ´å¯Ÿ")
    
    def _generate_unified_document(self, title: str, platform: str, platform_cn: str,
                                 metadata: Dict[str, Any], content: str, content_type: str,
                                 tags: List[str], core_topic: str, video_data: Dict[str, Any]) -> str:
        """ç”Ÿæˆå®Œå…¨ç»Ÿä¸€æ ¼å¼çš„åˆ†ææ–‡æ¡£ï¼Œä¼˜åŒ–Obsidianæ˜¾ç¤º"""
        
        current_time = datetime.now().strftime("%Y-%m-%d %H:%M:%S")
        author = metadata.get('author', 'æœªçŸ¥ä½œè€…')
        url = video_data.get('url', '')
        
        # ä¼˜åŒ–çš„Obsidian YAMLå‰ç½®å†…å®¹
        doc = f"""---
title: "{title}"
author: "{author}"
platform: "{platform}"
content_type: "{content_type}"
created: "{current_time}"
tags: 
{self._format_tags_for_obsidian(tags)}
source_url: "{url}"
core_topic: "{core_topic}"
analysis_version: "2.0"
cssclass: "content-analysis"
---

# ğŸ“Š {title}

> [!info] åˆ†ææ¦‚è§ˆ
> æœ¬æ–‡æ¡£é‡‡ç”¨æ ‡å‡†åŒ–åˆ†ææ¡†æ¶ï¼Œå¯¹æ¥è‡ª**{platform_cn}**å¹³å°çš„{self._get_content_type_desc(content_type)}è¿›è¡Œæ·±åº¦åˆ†æï¼Œæå–å…³é”®ä¿¡æ¯å’Œç­–ç•¥æ´å¯Ÿã€‚

## ğŸ“ åŸºç¡€ä¿¡æ¯

| ğŸ·ï¸ é¡¹ç›® | ğŸ“‹ è¯¦æƒ… |
|---------|-------|
| **ğŸŒ åˆ†æå¹³å°** | {platform_cn} |
| **ğŸ‘¤ å†…å®¹ä½œè€…** | {author} |
| **ğŸ“± å†…å®¹ç±»å‹** | {self._get_content_type_desc(content_type)} |
| **ğŸ“… åˆ†ææ—¶é—´** | {current_time} |
| **ğŸ”— æºé“¾æ¥** | {url} |
| **ğŸ¯ æ ¸å¿ƒä¸»é¢˜** | {core_topic} |

---

## ğŸ” å†…å®¹ç»“æ„åˆ†æ

### ğŸ¯ ä¸»é¢˜å®šä½

> [!abstract] æ ¸å¿ƒä¸»é¢˜
> **{core_topic}**

{self._generate_content_structure_analysis(content_type, platform)}

### ğŸ§© å†…å®¹è¦ç´ 

{self._generate_content_elements(content_type)}

### ğŸ‘¥ å—ä¼—ç‰¹å¾

{self._generate_audience_analysis(platform, content_type)}

---

## ğŸŒ å¹³å°ç”Ÿæ€åˆ†æ

### ğŸ›ï¸ å¹³å°ç‰¹å¾

{self._generate_platform_characteristics(platform)}

### ğŸ“¡ åˆ†å‘æœºåˆ¶

{self._generate_distribution_mechanism(platform)}

### ğŸ‘† ç”¨æˆ·è¡Œä¸º

{self._generate_user_behavior(platform)}

---

## ğŸ’ å†…å®¹ä»·å€¼è¯„ä¼°

### ğŸ“Š ä¿¡æ¯ç»´åº¦

| ğŸ“ˆ è¯„ä¼°é¡¹ | ğŸ” åˆ†æè¦ç‚¹ |
|----------|------------|
| **ğŸ’¡ ä¿¡æ¯å¯†åº¦** | å†…å®¹ä¿¡æ¯é‡ä¸è¡¨è¾¾æ•ˆç‡çš„å¹³è¡¡ |
| **ğŸ¯ å®ç”¨ä»·å€¼** | å¯¹ç›®æ ‡å—ä¼—çš„å®é™…å¸®åŠ©ç¨‹åº¦ |
| **âœ¨ åŸåˆ›ç¨‹åº¦** | å†…å®¹çš„ç‹¬ç‰¹æ€§å’Œåˆ›æ–°æ€§ |
| **â° æ—¶æ•ˆæ€§** | å†…å®¹çš„æ—¶é—´æ•æ„Ÿæ€§å’ŒæŒç»­ä»·å€¼ |

### ğŸš€ ä¼ æ’­æ½œåŠ›

| ğŸ“ˆ è¯„ä¼°é¡¹ | ğŸ” åˆ†æè¦ç‚¹ |
|----------|------------|
| **ğŸ”¥ è¯é¢˜æ€§** | å¼•å‘è®¨è®ºå’Œäº’åŠ¨çš„èƒ½åŠ› |
| **ğŸ“¤ åˆ†äº«åŠ¨æœº** | ç”¨æˆ·ä¸»åŠ¨ä¼ æ’­çš„é©±åŠ¨åŠ› |
| **âš™ï¸ å¹³å°é€‚é…** | ä¸å¹³å°æœºåˆ¶çš„åŒ¹é…ç¨‹åº¦ |
| **ğŸ¦  ç—…æ¯’ç‰¹è´¨** | å¿«é€Ÿä¼ æ’­çš„æ½œåœ¨å› ç´  |

---

## ğŸ’¡ ç­–ç•¥æ´å¯Ÿ

### ğŸ”‘ å…³é”®å‘ç°

{self._generate_key_insights(platform, content_type)}

### âœ… æˆåŠŸè¦ç´ 

{self._generate_success_factors(platform, content_type)}

### âš ï¸ é£é™©è¯„ä¼°

{self._generate_risk_assessment(platform, content_type)}

---

## ğŸ¯ å®æ–½å»ºè®®

### ğŸ“ˆ å†…å®¹ä¼˜åŒ–

{self._generate_content_optimization(platform, content_type)}

### ğŸ“¢ ä¼ æ’­ç­–ç•¥

{self._generate_distribution_strategy(platform, content_type)}

### ğŸ”„ æŒç»­æ”¹è¿›

{self._generate_improvement_suggestions(platform, content_type)}

---

## ğŸ“‹ åˆ†ææ€»ç»“

{self._generate_analysis_summary(platform_cn, content_type, core_topic)}

---

> [!tip] æ ‡ç­¾ç´¢å¼•
> {' | '.join([f'#{tag}' for tag in tags])}

> [!warning] å…è´£å£°æ˜
> æœ¬åˆ†æåŸºäºå…¬å¼€å†…å®¹ï¼Œéµå¾ªç½‘ç»œçˆ¬è™«ä¼¦ç†è§„èŒƒï¼Œåˆ†æç»“æœä»…ä¾›å­¦ä¹ ç ”ç©¶ä½¿ç”¨ã€‚

"""
        
        return doc
    
    def _format_tags_for_obsidian(self, tags: List[str]) -> str:
        """æ ¼å¼åŒ–æ ‡ç­¾ä¸ºObsidian YAMLæ ¼å¼"""
        formatted_tags = []
        for tag in tags:
            formatted_tags.append(f"  - {tag}")
        return '\n'.join(formatted_tags)
    
    def _get_content_type_desc(self, content_type: str) -> str:
        """è·å–å†…å®¹ç±»å‹çš„ä¸­æ–‡æè¿°"""
        descriptions = {
            'short_video': 'çŸ­è§†é¢‘å†…å®¹',
            'lifestyle_note': 'ç”Ÿæ´»ç¬”è®°',
            'knowledge_video': 'çŸ¥è¯†è§†é¢‘',
            'article': 'æ–‡ç« å†…å®¹',
            'qa_answer': 'é—®ç­”å›å¤',
            'video_content': 'è§†é¢‘å†…å®¹',
            'knowledge_content': 'çŸ¥è¯†å†…å®¹',
            'digital_content': 'æ•°å­—å†…å®¹'
        }
        return descriptions.get(content_type, 'æ•°å­—å†…å®¹')
    
    def _generate_content_structure_analysis(self, content_type: str, platform: str) -> str:
        """ç”Ÿæˆå†…å®¹ç»“æ„åˆ†æ"""
        analyses = {
            'short_video': """**å†…å®¹ç‰¹å¾**: çŸ­è§†é¢‘ä»¥å¿«èŠ‚å¥ã€å¼ºè§†è§‰å†²å‡»ä¸ºæ ¸å¿ƒï¼Œåœ¨æœ‰é™æ—¶é—´å†…æœ€å¤§åŒ–ä¿¡æ¯ä¼ é€’æ•ˆæœã€‚

**ç»“æ„ç‰¹ç‚¹**:
- å¼€åœºå¸å¼•ï¼šå‰3ç§’çš„å…³é”®ä¿¡æ¯å‘ˆç°
- æ ¸å¿ƒå†…å®¹ï¼šä¸­æ®µçš„ä¸»è¦ä¿¡æ¯ä¼ é€’
- ç»“å°¾å¼•å¯¼ï¼šä¿ƒè¿›äº’åŠ¨å’Œåˆ†äº«çš„è®¾è®¡""",
            
            'lifestyle_note': """**å†…å®¹ç‰¹å¾**: ç”Ÿæ´»ç¬”è®°ä»¥çœŸå®ä½“éªŒåˆ†äº«ä¸ºæ ¸å¿ƒï¼Œæ³¨é‡å®ç”¨æ€§å’Œå¯æ“ä½œæ€§ã€‚

**ç»“æ„ç‰¹ç‚¹**:
- åœºæ™¯è®¾ç½®ï¼šç”Ÿæ´»åŒ–çš„æƒ…å¢ƒæè¿°
- ç»éªŒåˆ†äº«ï¼šå…·ä½“çš„æ“ä½œæ–¹æ³•å’Œå¿ƒå¾—
- æ•ˆæœå±•ç¤ºï¼šå®é™…ç»“æœå’Œä½¿ç”¨æ„Ÿå—""",
            
            'knowledge_video': """**å†…å®¹ç‰¹å¾**: çŸ¥è¯†è§†é¢‘ä»¥æ•™è‚²ä»·å€¼ä¸ºæ ¸å¿ƒï¼Œå¼ºè°ƒé€»è¾‘æ€§å’Œä¸“ä¸šæ€§ã€‚

**ç»“æ„ç‰¹ç‚¹**:
- é—®é¢˜æå‡ºï¼šæ˜ç¡®çš„å­¦ä¹ ç›®æ ‡è®¾å®š
- çŸ¥è¯†è®²è§£ï¼šç³»ç»Ÿçš„å†…å®¹ç»„ç»‡å‘ˆç°
- æ€»ç»“åº”ç”¨ï¼šå®é™…åº”ç”¨å’Œæ‹“å±•æ€è€ƒ""",
            
            'article': """**å†…å®¹ç‰¹å¾**: é•¿æ–‡ç« ä»¥æ·±åº¦åˆ†æä¸ºæ ¸å¿ƒï¼Œæä¾›å…¨é¢çš„è§‚ç‚¹é˜è¿°ã€‚

**ç»“æ„ç‰¹ç‚¹**:
- ä¸»é¢˜å¼•å…¥ï¼šèƒŒæ™¯ä»‹ç»å’Œé—®é¢˜æå‡º
- æ·±åº¦åˆ†æï¼šå¤šè§’åº¦çš„è¯¦ç»†è®ºè¿°
- è§‚ç‚¹æ€»ç»“ï¼šç»“è®ºæç‚¼å’Œå¯å‘æ€è€ƒ""",
            
            'qa_answer': """**å†…å®¹ç‰¹å¾**: é—®ç­”å›å¤ä»¥è§£å†³å…·ä½“é—®é¢˜ä¸ºæ ¸å¿ƒï¼Œå¼ºè°ƒé’ˆå¯¹æ€§å’Œå‡†ç¡®æ€§ã€‚

**ç»“æ„ç‰¹ç‚¹**:
- é—®é¢˜ç†è§£ï¼šå¯¹æé—®çš„å‡†ç¡®æŠŠæ¡
- è§£ç­”è¿‡ç¨‹ï¼šé€»è¾‘æ¸…æ™°çš„å›åº”å±•å¼€
- è¡¥å……è¯´æ˜ï¼šç›¸å…³çš„å»¶ä¼¸ä¿¡æ¯æä¾›"""
        }
        
        return analyses.get(content_type, """**å†…å®¹ç‰¹å¾**: æ•°å­—å†…å®¹ä»¥ä¿¡æ¯ä¼ é€’ä¸ºæ ¸å¿ƒï¼Œé€‚åº”ç½‘ç»œä¼ æ’­ç‰¹ç‚¹ã€‚

**ç»“æ„ç‰¹ç‚¹**:
- ä¿¡æ¯ç»„ç»‡ï¼šæ¸…æ™°çš„å†…å®¹å±‚æ¬¡ç»“æ„
- è¡¨è¾¾æ–¹å¼ï¼šé€‚åˆå¹³å°ç‰¹å¾çš„å‘ˆç°å½¢å¼
- äº’åŠ¨è®¾è®¡ï¼šä¿ƒè¿›ç”¨æˆ·å‚ä¸çš„å…ƒç´ å®‰æ’""")
    
    def _generate_content_elements(self, content_type: str) -> str:
        """ç”Ÿæˆå†…å®¹è¦ç´ åˆ†æ"""
        elements = {
            'short_video': """- **è§†è§‰è®¾è®¡**: ç”»é¢æ„å›¾ã€è‰²å½©æ­é…ã€åŠ¨æ€æ•ˆæœ
- **å£°éŸ³å…ƒç´ **: èƒŒæ™¯éŸ³ä¹ã€éŸ³æ•ˆã€è§£è¯´è¯
- **å‰ªè¾‘æŠ€å·§**: èŠ‚å¥æ§åˆ¶ã€è½¬åœºæ•ˆæœã€ç‰¹æ•ˆè¿ç”¨
- **äº’åŠ¨æœºåˆ¶**: è¯é¢˜æ ‡ç­¾ã€æŒ‘æˆ˜å‚ä¸ã€è¯„è®ºå¼•å¯¼""",
            
            'lifestyle_note': """- **å›¾ç‰‡è´¨é‡**: æ‹æ‘„æŠ€å·§ã€ç¾åŒ–å¤„ç†ã€æ’ç‰ˆè®¾è®¡
- **æ–‡å­—è¡¨è¾¾**: è¯­è¨€é£æ ¼ã€æè¿°è¯¦ç»†åº¦ã€æƒ…æ„Ÿä¼ é€’
- **å®ç”¨ä¿¡æ¯**: å…·ä½“æ­¥éª¤ã€æ³¨æ„äº‹é¡¹ã€æ•ˆæœå±•ç¤º
- **ç¤¾äº¤å…ƒç´ **: è¯é¢˜å…³è”ã€ç”¨æˆ·äº’åŠ¨ã€åˆ†äº«ä»·å€¼""",
            
            'knowledge_video': """- **å†…å®¹æ·±åº¦**: ä¸“ä¸šç¨‹åº¦ã€ä¿¡æ¯å¯†åº¦ã€é€»è¾‘ä¸¥å¯†æ€§
- **è¡¨è¾¾æ¸…æ™°**: è¯­è¨€å‡†ç¡®ã€æ¦‚å¿µè§£é‡Šã€æ¡ˆä¾‹è¿ç”¨
- **è§†è§‰è¾…åŠ©**: å›¾è¡¨è®¾è®¡ã€åŠ¨ç”»æ•ˆæœã€é‡ç‚¹æ ‡è¯†
- **æ•™å­¦è®¾è®¡**: çŸ¥è¯†æ¶æ„ã€éš¾åº¦é€’è¿›ã€å®è·µæŒ‡å¯¼""",
            
            'article': """- **è®ºè¿°é€»è¾‘**: è§‚ç‚¹ç»„ç»‡ã€è®ºè¯è¿‡ç¨‹ã€ç»“æ„å®Œæ•´æ€§
- **ä¿¡æ¯æ¥æº**: æ•°æ®æ”¯æ’‘ã€æ¡ˆä¾‹å¼•ç”¨ã€æƒå¨å‚è€ƒ
- **è¡¨è¾¾æŠ€å·§**: æ–‡å­—åŠŸåº•ã€ä¿®è¾è¿ç”¨ã€å¯è¯»æ€§
- **æ·±åº¦ä»·å€¼**: ç‹¬ç‰¹è§è§£ã€æ€è€ƒå¯å‘ã€å®ç”¨æŒ‡å¯¼""",
            
            'qa_answer': """- **å›ç­”è´¨é‡**: å‡†ç¡®æ€§ã€å®Œæ•´æ€§ã€ä¸“ä¸šç¨‹åº¦
- **è¡¨è¾¾æ¸…æ™°**: é€»è¾‘é¡ºåºã€é‡ç‚¹çªå‡ºã€æ˜“äºç†è§£
- **å®ç”¨ä»·å€¼**: å¯æ“ä½œæ€§ã€é’ˆå¯¹æ€§ã€è§£å†³æ•ˆæœ
- **å»¶ä¼¸ä»·å€¼**: ç›¸å…³è¡¥å……ã€ç»éªŒåˆ†äº«ã€æ€ç»´æ‹“å±•"""
        }
        
        return elements.get(content_type, """- **ä¿¡æ¯æ¶æ„**: å†…å®¹ç»„ç»‡ã€å±‚æ¬¡ç»“æ„ã€é€»è¾‘å…³ç³»
- **è¡¨è¾¾å½¢å¼**: åª’ä½“ç±»å‹ã€å‘ˆç°æ–¹å¼ã€äº’åŠ¨å…ƒç´ 
- **ä»·å€¼ä¸»å¼ **: æ ¸å¿ƒè§‚ç‚¹ã€ç‹¬ç‰¹ä»·å€¼ã€ç”¨æˆ·æ”¶ç›Š
- **æŠ€æœ¯å®ç°**: åˆ¶ä½œè´¨é‡ã€å¹³å°é€‚é…ã€ç”¨æˆ·ä½“éªŒ""")
    
    def _generate_audience_analysis(self, platform: str, content_type: str) -> str:
        """ç”Ÿæˆå—ä¼—ç‰¹å¾åˆ†æ"""
        audience_maps = {
            ('douyin', 'short_video'): """**ä¸»è¦å—ä¼—**: ç§»åŠ¨ç«¯é‡åº¦ç”¨æˆ·ï¼Œåå¥½å¿«é€Ÿå¨±ä¹å†…å®¹æ¶ˆè´¹
**å¹´é¾„åˆ†å¸ƒ**: ä»¥18-35å²å¹´è½»ç¾¤ä½“ä¸ºä¸»
**ä½¿ç”¨åœºæ™¯**: ç¢ç‰‡åŒ–æ—¶é—´ï¼Œä¼‘é—²å¨±ä¹ï¼Œç¤¾äº¤åˆ†äº«
**å‚ä¸æ–¹å¼**: è¢«åŠ¨æµè§ˆä¸ºä¸»ï¼Œè½»åº¦äº’åŠ¨å‚ä¸""",
            
            ('xiaohongshu', 'lifestyle_note'): """**ä¸»è¦å—ä¼—**: æ³¨é‡ç”Ÿæ´»å“è´¨çš„éƒ½å¸‚ç”¨æˆ·ç¾¤ä½“
**å¹´é¾„åˆ†å¸ƒ**: ä»¥20-40å²å¥³æ€§ç”¨æˆ·ä¸ºæ ¸å¿ƒ
**ä½¿ç”¨åœºæ™¯**: è´­ç‰©å†³ç­–ï¼Œç”Ÿæ´»çµæ„Ÿï¼Œç»éªŒæŸ¥æ‰¾
**å‚ä¸æ–¹å¼**: ä¸»åŠ¨æœç´¢ï¼Œæ·±åº¦æ”¶è—ï¼Œä¿¡ä»»åˆ†äº«""",
            
            ('zhihu', 'knowledge_video'): """**ä¸»è¦å—ä¼—**: çŸ¥è¯†å‹ç”¨æˆ·ï¼Œè¿½æ±‚æ·±åº¦å­¦ä¹ å’Œä¸“ä¸šæå‡
**å¹´é¾„åˆ†å¸ƒ**: ä»¥25-45å²é«˜å­¦å†ç¾¤ä½“ä¸ºä¸»
**ä½¿ç”¨åœºæ™¯**: ä¸“ä¸šå­¦ä¹ ï¼Œé—®é¢˜è§£å†³ï¼Œè§‚ç‚¹äº¤æµ
**å‚ä¸æ–¹å¼**: æ·±åº¦é˜…è¯»ï¼Œç†æ€§è®¨è®ºï¼ŒçŸ¥è¯†ç§¯ç´¯""",
            
            ('zhihu', 'article'): """**ä¸»è¦å—ä¼—**: æ·±åº¦é˜…è¯»çˆ±å¥½è€…ï¼Œä¸“ä¸šäººå£«å’Œå­¦ä¹ è€…
**å¹´é¾„åˆ†å¸ƒ**: ä»¥25-45å²çŸ¥è¯†å·¥ä½œè€…ä¸ºä¸»
**ä½¿ç”¨åœºæ™¯**: ä¸“ä¸šæå‡ï¼Œè§‚ç‚¹å­¦ä¹ ï¼Œæ€ç»´æ‹“å±•
**å‚ä¸æ–¹å¼**: é•¿æ—¶é—´é˜…è¯»ï¼Œæ·±åº¦æ€è€ƒï¼Œä¸“ä¸šè®¨è®º""",
            
            ('zhihu', 'qa_answer'): """**ä¸»è¦å—ä¼—**: æœ‰å…·ä½“é—®é¢˜éœ€æ±‚çš„å­¦ä¹ è€…å’Œä¸“ä¸šäººå£«
**å¹´é¾„åˆ†å¸ƒ**: è·¨å¹´é¾„æ®µï¼Œä»¥å®é™…éœ€æ±‚ä¸ºå¯¼å‘
**ä½¿ç”¨åœºæ™¯**: é—®é¢˜è§£å†³ï¼Œä¸“ä¸šå’¨è¯¢ï¼Œç»éªŒè·å–
**å‚ä¸æ–¹å¼**: ç›®æ ‡æ˜ç¡®ï¼Œç»“æœå¯¼å‘ï¼Œæ„Ÿè°¢åé¦ˆ"""
        }
        
        key = (platform, content_type)
        return audience_maps.get(key, """**ä¸»è¦å—ä¼—**: æ•°å­—å†…å®¹æ¶ˆè´¹è€…ï¼Œå…·æœ‰å¤šæ ·åŒ–çš„ä¿¡æ¯éœ€æ±‚
**å¹´é¾„åˆ†å¸ƒ**: æ ¹æ®å¹³å°ç‰¹å¾å’Œå†…å®¹ç±»å‹è€Œå®š
**ä½¿ç”¨åœºæ™¯**: ä¿¡æ¯è·å–ï¼Œå¨±ä¹æ¶ˆè´¹ï¼Œç¤¾äº¤äº’åŠ¨
**å‚ä¸æ–¹å¼**: åŸºäºå¹³å°æœºåˆ¶çš„å¤šæ ·åŒ–äº’åŠ¨å½¢å¼""")
    
    def _generate_platform_characteristics(self, platform: str) -> str:
        """ç”Ÿæˆå¹³å°ç‰¹å¾åˆ†æ"""
        characteristics = {
            'douyin': """**ç®—æ³•å¯¼å‘**: åŸºäºç”¨æˆ·è¡Œä¸ºçš„æ™ºèƒ½æ¨èç³»ç»Ÿï¼Œå¼ºè°ƒå®Œæ’­ç‡å’Œäº’åŠ¨ç‡
**å†…å®¹åå¥½**: çŸ­æ—¶é•¿ã€é«˜å¨±ä¹æ€§ã€è§†è§‰å†²å‡»åŠ›å¼ºçš„å†…å®¹
**å•†ä¸šæ¨¡å¼**: ä¿¡æ¯æµå¹¿å‘Šã€ç”µå•†å¸¦è´§ã€ç›´æ’­æ‰“èµä¸ºä¸»è¦å˜ç°é€”å¾„""",
            
            'xiaohongshu': """**ç¤¾åŒºæ°›å›´**: çœŸå®åˆ†äº«å¯¼å‘çš„ç§è‰ç¤¾åŒºï¼Œæ³¨é‡ç”¨æˆ·ä½“éªŒå’Œä¿¡ä»»å…³ç³»
**å†…å®¹åå¥½**: é«˜è´¨é‡å›¾ç‰‡ã€å®ç”¨æ€§å¼ºã€ç”Ÿæ´»åŒ–è¡¨è¾¾çš„å†…å®¹
**å•†ä¸šæ¨¡å¼**: å“ç‰Œåˆä½œã€ç”µå•†å¯¼æµã€å¹¿å‘ŠæŠ•æ”¾ä¸ºä¸»è¦ç›ˆåˆ©æ–¹å¼""",
            
            'zhihu': """**çŸ¥è¯†å®šä½**: ä¸“ä¸šé—®ç­”å’Œæ·±åº¦å†…å®¹ä¸ºæ ¸å¿ƒçš„çŸ¥è¯†ç¤¾åŒºå¹³å°
**å†…å®¹åå¥½**: é€»è¾‘æ¸…æ™°ã€æœ‰æ·±åº¦ä»·å€¼ã€ä¸“ä¸šæ€§å¼ºçš„å†…å®¹
**å•†ä¸šæ¨¡å¼**: çŸ¥è¯†ä»˜è´¹ã€ä¼šå‘˜æœåŠ¡ã€å“ç‰Œå¹¿å‘Šä¸ºä¸»è¦æ”¶å…¥æ¥æº""",
            
            'bilibili': """**ç¤¾åŒºæ–‡åŒ–**: äºŒæ¬¡å…ƒèµ·å®¶çš„å¤šå…ƒåŒ–è§†é¢‘ç¤¾åŒºï¼Œé‡è§†åˆ›ä½œè€…ç”Ÿæ€
**å†…å®¹åå¥½**: é«˜è´¨é‡è§†é¢‘ã€æœ‰åˆ›æ„æ€§ã€ç¤¾åŒºæ–‡åŒ–å¼ºçš„å†…å®¹
**å•†ä¸šæ¨¡å¼**: æ¸¸æˆè¿è¥ã€ç›´æ’­æ‰“èµã€ä¼šå‘˜å¢å€¼æœåŠ¡ä¸ºæ ¸å¿ƒä¸šåŠ¡"""
        }
        
        return characteristics.get(platform, """**å¹³å°å®šä½**: ç»¼åˆæ€§æ•°å­—å†…å®¹å¹³å°ï¼Œé€‚åº”å¤šæ ·åŒ–ç”¨æˆ·éœ€æ±‚
**å†…å®¹åå¥½**: æ ¹æ®å¹³å°è°ƒæ€§å’Œç”¨æˆ·ç¾¤ä½“ç‰¹å¾ä¼˜åŒ–å†…å®¹ç­–ç•¥
**å•†ä¸šæ¨¡å¼**: å¹¿å‘Šå˜ç°ã€ç”¨æˆ·ä»˜è´¹ã€ç”µå•†æœåŠ¡ç­‰å¤šå…ƒåŒ–ç›ˆåˆ©æ¨¡å¼""")
    
    def _generate_distribution_mechanism(self, platform: str) -> str:
        """ç”Ÿæˆåˆ†å‘æœºåˆ¶åˆ†æ"""
        mechanisms = {
            'douyin': """**æ¨èç®—æ³•**: åŸºäºç”¨æˆ·å…´è¶£æ ‡ç­¾ã€è¡Œä¸ºæ•°æ®ã€å†…å®¹è´¨é‡çš„å¤šç»´åº¦æ¨è
**æµé‡åˆ†é…**: å…¬åŸŸæµé‡ä¸ºä¸»ï¼Œé€šè¿‡ç®—æ³•åˆ†å‘åˆ°ç²¾å‡†ç”¨æˆ·ç¾¤ä½“
**å½±å“å› ç´ **: å®Œæ’­ç‡ã€ç‚¹èµç‡ã€è¯„è®ºç‡ã€åˆ†äº«ç‡ã€å…³æ³¨è½¬åŒ–ç‡""",
            
            'xiaohongshu': """**å‘ç°æœºåˆ¶**: ç»“åˆæœç´¢ç®—æ³•å’Œæ¨èç®—æ³•çš„åŒé‡åˆ†å‘ä½“ç³»
**æµé‡æ¥æº**: æœç´¢æµé‡ã€æ¨èæµé‡ã€å…³æ³¨æµé‡çš„å¤šæ¸ é“åˆ†å¸ƒ
**æ’åºå› ç´ **: å†…å®¹è´¨é‡ã€ç”¨æˆ·äº’åŠ¨ã€è´¦å·æƒé‡ã€æ—¶æ•ˆæ€§""",
            
            'zhihu': """**å†…å®¹åˆ†å‘**: åŸºäºè¯é¢˜çƒ­åº¦ã€å†…å®¹è´¨é‡ã€ç”¨æˆ·å…³æ³¨çš„ç»¼åˆæ¨è
**æƒé‡ç³»ç»Ÿ**: ç­”ä¸»æƒå¨æ€§ã€å†…å®¹ä¸“ä¸šåº¦ã€ç”¨æˆ·åé¦ˆçš„å¤šé‡è€ƒé‡
**æµé‡å…¥å£**: çƒ­æ¦œæ¨èã€è¯é¢˜å…³æ³¨ã€æœç´¢å‘ç°ã€ç”¨æˆ·å…³æ³¨""",
            
            'bilibili': """**æ¨èä½“ç³»**: ç»¼åˆè€ƒè™‘æ’­æ”¾æ•°æ®ã€ç”¨æˆ·åå¥½ã€å†…å®¹è´¨é‡çš„æ¨èç®—æ³•
**æµé‡æ¸ é“**: é¦–é¡µæ¨èã€åˆ†åŒºçƒ­é—¨ã€æœç´¢å‘ç°ã€è®¢é˜…æ¨é€
**è¯„ä»·æŒ‡æ ‡**: æ’­æ”¾é‡ã€å¼¹å¹•æ•°ã€æ”¶è—æ•°ã€æŠ•å¸æ•°ã€åˆ†äº«æ•°"""
        }
        
        return mechanisms.get(platform, """**åˆ†å‘é€»è¾‘**: åŸºäºå¹³å°ç®—æ³•å’Œç”¨æˆ·è¡Œä¸ºçš„æ™ºèƒ½åˆ†å‘æœºåˆ¶
**æµé‡è·å–**: å¤šå…ƒåŒ–æµé‡å…¥å£å’Œæ¨èæ¸ é“çš„æœ‰æœºç»“åˆ
**ä¼˜åŒ–è¦ç‚¹**: å†…å®¹è´¨é‡ã€ç”¨æˆ·ä½“éªŒã€å¹³å°é€‚é…çš„ç»¼åˆæå‡""")
    
    def _generate_user_behavior(self, platform: str) -> str:
        """ç”Ÿæˆç”¨æˆ·è¡Œä¸ºåˆ†æ"""
        behaviors = {
            'douyin': """**æµè§ˆä¹ æƒ¯**: å¿«é€Ÿæ»‘åŠ¨æµè§ˆï¼Œå¹³å‡åœç•™æ—¶é—´çŸ­ï¼Œæ³¨æ„åŠ›é›†ä¸­åœ¨å‰å‡ ç§’
**äº’åŠ¨åå¥½**: è½»é‡çº§äº’åŠ¨ä¸ºä¸»ï¼Œç‚¹èµé—¨æ§›ä½ï¼Œè¯„è®ºå’Œåˆ†äº«ç›¸å¯¹è¾ƒå°‘
**å†³ç­–æ¨¡å¼**: åŸºäºç¬¬ä¸€å°è±¡å’Œæƒ…æ„Ÿååº”çš„å¿«é€Ÿå†³ç­–""",
            
            'xiaohongshu': """**ä½¿ç”¨æ¨¡å¼**: ä¸»åŠ¨æœç´¢ä¸è¢«åŠ¨æµè§ˆå¹¶é‡ï¼Œç›®çš„æ€§è¾ƒå¼º
**äº’åŠ¨è¡Œä¸º**: æ”¶è—ç‡é«˜ï¼Œè¯„è®ºè´¨é‡å¥½ï¼Œç§ä¿¡å’¨è¯¢é¢‘ç¹
**ä¿¡ä»»æœºåˆ¶**: åŸºäºçœŸå®ä½“éªŒçš„ä¿¡ä»»å»ºç«‹ï¼Œå£ç¢‘ä¼ æ’­æ•ˆåº”æ˜æ˜¾""",
            
            'zhihu': """**é˜…è¯»è¡Œä¸º**: æ·±åº¦é˜…è¯»ä¸ºä¸»ï¼Œåœç•™æ—¶é—´é•¿ï¼Œå®Œè¯»ç‡ç›¸å¯¹è¾ƒé«˜
**å‚ä¸æ–¹å¼**: ç†æ€§è®¨è®ºï¼Œä¸“ä¸šäº¤æµï¼ŒçŸ¥è¯†åˆ†äº«å’Œè·å–å¹¶é‡
**ç¤¾äº¤ç‰¹å¾**: åŸºäºä¸“ä¸šè®¤åŒçš„ç¤¾äº¤å…³ç³»ï¼Œæƒå¨æ€§è®¤çŸ¥é‡è¦""",
            
            'bilibili': """**è§‚çœ‹ä¹ æƒ¯**: å®Œæ•´è§‚çœ‹æ¯”ä¾‹é«˜ï¼Œé‡å¤è§‚çœ‹è¡Œä¸ºå¸¸è§
**äº’åŠ¨æ–‡åŒ–**: å¼¹å¹•æ–‡åŒ–æµ“åšï¼Œè¯„è®ºåŒºè®¨è®ºæ´»è·ƒï¼Œåˆ›ä½œè€…ç²‰ä¸å…³ç³»ç´§å¯†
**ç¤¾åŒºå‚ä¸**: é«˜åº¦çš„ç¤¾åŒºå½’å±æ„Ÿï¼Œäºšæ–‡åŒ–è®¤åŒå¼ºçƒˆ"""
        }
        
        return behaviors.get(platform, """**ä½¿ç”¨ç‰¹å¾**: æ ¹æ®å¹³å°æ€§è´¨å±•ç°å·®å¼‚åŒ–çš„ç”¨æˆ·è¡Œä¸ºæ¨¡å¼
**äº’åŠ¨æ–¹å¼**: å¹³å°æœºåˆ¶å†³å®šçš„å¤šæ ·åŒ–ç”¨æˆ·å‚ä¸å½¢å¼
**ä»·å€¼è·å–**: åŸºäºä¸ªäººéœ€æ±‚å’Œå¹³å°ç‰¹è‰²çš„ä»·å€¼å®ç°è·¯å¾„""")
    
    def _generate_key_insights(self, platform: str, content_type: str) -> str:
        """ç”Ÿæˆå…³é”®æ´å¯Ÿ"""
        insights = {
            ('douyin', 'short_video'): """- **3ç§’æ³•åˆ™**: è§†é¢‘å¼€å¤´3ç§’å†³å®šç”¨æˆ·æ˜¯å¦ç»§ç»­è§‚çœ‹ï¼Œéœ€è¦å¼ºçƒˆçš„è§†è§‰æˆ–æƒ…æ„Ÿå†²å‡»
- **æƒ…æ„Ÿå…±é¸£**: èƒ½å¤Ÿå¿«é€Ÿå»ºç«‹æƒ…æ„Ÿè¿æ¥çš„å†…å®¹æ›´å®¹æ˜“è·å¾—ç”¨æˆ·äº’åŠ¨
- **è¶‹åŠ¿æŠŠæ¡**: ç´§è·Ÿå¹³å°çƒ­ç‚¹å’ŒéŸ³ä¹è¶‹åŠ¿ï¼Œæå‡å†…å®¹æ›å…‰æœºä¼š
- **å®Œæ’­ä¼˜åŒ–**: å†…å®¹èŠ‚å¥ç´§å‡‘ï¼Œé¿å…å†—é•¿é“ºå«ï¼Œç¡®ä¿ä¿¡æ¯å¯†åº¦åˆç†""",
            
            ('xiaohongshu', 'lifestyle_note'): """- **çœŸå®æ€§ä»·å€¼**: ç”¨æˆ·æ›´ä¿¡ä»»çœŸå®çš„ä½¿ç”¨ä½“éªŒåˆ†äº«ï¼Œè¿‡åº¦åŒ…è£…ä¼šé™ä½å¯ä¿¡åº¦
- **å®ç”¨å¯¼å‘**: æä¾›å…·ä½“å¯æ“ä½œçš„å»ºè®®å’Œæ–¹æ³•ï¼Œæ»¡è¶³ç”¨æˆ·å®é™…éœ€æ±‚
- **è§†è§‰å“è´¨**: é«˜è´¨é‡çš„å›¾ç‰‡å’Œæ’ç‰ˆè®¾è®¡æ˜¾è‘—å½±å“å†…å®¹è¡¨ç°
- **æœç´¢ä¼˜åŒ–**: åˆç†ä½¿ç”¨å…³é”®è¯å’Œè¯é¢˜æ ‡ç­¾ï¼Œæå‡è¢«å‘ç°çš„æ¦‚ç‡""",
            
            ('zhihu', 'knowledge_video'): """- **ä¸“ä¸šæƒå¨**: å±•ç°ä¸“ä¸šçŸ¥è¯†èƒŒæ™¯å’Œé€»è¾‘æ€ç»´èƒ½åŠ›ï¼Œå»ºç«‹å†…å®¹æƒå¨æ€§
- **ç»“æ„æ¸…æ™°**: è‰¯å¥½çš„å†…å®¹ç»„ç»‡å’Œè¡¨è¾¾é€»è¾‘æå‡ç”¨æˆ·ç†è§£æ•ˆæœ
- **ä»·å€¼å¯†åº¦**: é«˜ä¿¡æ¯å¯†åº¦çš„å†…å®¹æ›´å®¹æ˜“è·å¾—ç”¨æˆ·è®¤å¯å’Œä¼ æ’­
- **æŒç»­ä»·å€¼**: å…·æœ‰é•¿æœŸå‚è€ƒä»·å€¼çš„å†…å®¹è·å¾—æ›´å¥½çš„å¹³å°æ¨è""",
            
            ('zhihu', 'article'): """- **æ·±åº¦æ€è€ƒ**: ç‹¬ç‰¹çš„è§‚ç‚¹å’Œæ·±å…¥çš„åˆ†ææ›´å®¹æ˜“è·å¾—ç”¨æˆ·å…³æ³¨
- **é€»è¾‘ä¸¥å¯†**: æ¸…æ™°çš„è®ºè¯è¿‡ç¨‹å’Œå……åˆ†çš„è®ºæ®æ”¯æ’‘æå‡å†…å®¹è¯´æœåŠ›
- **å®ç”¨æŒ‡å¯¼**: ç»“åˆç†è®ºå’Œå®è·µçš„å†…å®¹æ›´å…·æœ‰ç”¨æˆ·ä»·å€¼
- **æŒç»­è®¨è®º**: èƒ½å¤Ÿå¼•å‘é•¿æœŸè®¨è®ºçš„è¯é¢˜å…·æœ‰æ›´å¼ºçš„ä¼ æ’­åŠ›""",
            
            ('zhihu', 'qa_answer'): """- **é—®é¢˜é’ˆå¯¹**: å‡†ç¡®ç†è§£é—®é¢˜æ ¸å¿ƒï¼Œæä¾›æœ‰é’ˆå¯¹æ€§çš„è§£ç­”
- **ç»éªŒä»·å€¼**: ç»“åˆä¸ªäººç»éªŒçš„å›ç­”æ›´å…·è¯´æœåŠ›å’Œå‚è€ƒä»·å€¼
- **å®Œæ•´å…¨é¢**: å…¨é¢å›ç­”é—®é¢˜çš„å„ä¸ªæ–¹é¢ï¼Œæä¾›å®Œæ•´çš„è§£å†³æ–¹æ¡ˆ
- **åç»­ä»·å€¼**: å…·æœ‰é•¿æœŸå‚è€ƒä»·å€¼çš„å›ç­”è·å¾—æŒç»­å…³æ³¨"""
        }
        
        key = (platform, content_type)
        return insights.get(key, """- **å¹³å°é€‚é…**: å†…å®¹å½¢å¼å’Œè¡¨è¾¾æ–¹å¼éœ€è¦ä¸å¹³å°ç‰¹å¾é«˜åº¦åŒ¹é…
- **ç”¨æˆ·éœ€æ±‚**: æ·±å…¥ç†è§£ç›®æ ‡ç”¨æˆ·çš„æ ¸å¿ƒéœ€æ±‚å’Œç—›ç‚¹
- **è´¨é‡ä¸ºç‹**: é«˜è´¨é‡çš„å†…å®¹æ˜¯è·å¾—å¹³å°æ¨èå’Œç”¨æˆ·è®¤å¯çš„åŸºç¡€
- **æŒç»­ä¼˜åŒ–**: åŸºäºæ•°æ®åé¦ˆä¸æ–­è°ƒæ•´å’Œä¼˜åŒ–å†…å®¹ç­–ç•¥""")
    
    def _generate_success_factors(self, platform: str, content_type: str) -> str:
        """ç”ŸæˆæˆåŠŸè¦ç´ """
        factors = {
            ('douyin', 'short_video'): """- **åˆ›æ„è¡¨è¾¾**: ç‹¬ç‰¹çš„åˆ›æ„è§’åº¦å’Œè¡¨ç°å½¢å¼
- **æŠ€æœ¯åˆ¶ä½œ**: ä¼˜ç§€çš„æ‹æ‘„å’Œå‰ªè¾‘æŠ€å·§
- **æ—¶æœºæŠŠæ¡**: å‡†ç¡®æ•æ‰å’Œåˆ©ç”¨å¹³å°çƒ­ç‚¹
- **ç”¨æˆ·äº’åŠ¨**: ç§¯æçš„è¯„è®ºå›å¤å’Œç²‰ä¸ç»´æŠ¤""",
            
            ('xiaohongshu', 'lifestyle_note'): """- **å†…å®¹çœŸå®**: åŸºäºçœŸå®ä½“éªŒçš„åˆ†äº«
- **ç¾å­¦å“è´¨**: é«˜å“è´¨çš„è§†è§‰å‘ˆç°
- **å®ç”¨ä»·å€¼**: åˆ‡å®è§£å†³ç”¨æˆ·éœ€æ±‚çš„å†…å®¹
- **ç¤¾åŒºå‚ä¸**: ç§¯æçš„ç”¨æˆ·äº’åŠ¨å’Œå…³ç³»ç»´æŠ¤""",
            
            ('zhihu', 'knowledge_video'): """- **ä¸“ä¸šæ·±åº¦**: æ‰å®çš„ä¸“ä¸šçŸ¥è¯†åŸºç¡€
- **è¡¨è¾¾èƒ½åŠ›**: æ¸…æ™°çš„é€»è¾‘è¡¨è¾¾å’Œæ¼”ç¤ºæŠ€å·§
- **å†…å®¹ä»·å€¼**: é«˜è´¨é‡çš„çŸ¥è¯†ä¼ é€’
- **æŒç»­è¾“å‡º**: ç¨³å®šçš„å†…å®¹æ›´æ–°å’Œè´¨é‡ç»´æŒ""",
            
            ('zhihu', 'article'): """- **æ€è€ƒæ·±åº¦**: ç‹¬ç‰¹è€Œæ·±å…¥çš„è§‚ç‚¹åˆ†æ
- **å†™ä½œæŠ€å·§**: ä¼˜ç§€çš„æ–‡å­—è¡¨è¾¾å’Œç»“æ„ç»„ç»‡
- **ä¸“ä¸šèƒŒæ™¯**: ç›¸å…³é¢†åŸŸçš„çŸ¥è¯†ç§¯ç´¯
- **è¯»è€…æœåŠ¡**: å¯¹è¯»è€…éœ€æ±‚çš„æ·±åº¦ç†è§£""",
            
            ('zhihu', 'qa_answer'): """- **ä¸“ä¸šèƒ½åŠ›**: ç›¸å…³é¢†åŸŸçš„ä¸“ä¸šçŸ¥è¯†å’Œç»éªŒ
- **å›ç­”è´¨é‡**: å‡†ç¡®ã€å…¨é¢ã€æœ‰ç”¨çš„å›ç­”å†…å®¹
- **è¡¨è¾¾æ¸…æ™°**: æ˜“äºç†è§£çš„è¡¨è¾¾æ–¹å¼
- **æŒç»­è´¡çŒ®**: é•¿æœŸç¨³å®šçš„é«˜è´¨é‡å›ç­”è¾“å‡º"""
        }
        
        key = (platform, content_type)
        return factors.get(key, """- **å†…å®¹è´¨é‡**: é«˜æ ‡å‡†çš„å†…å®¹åˆ¶ä½œå’Œè¡¨è¾¾
- **ç”¨æˆ·å¯¼å‘**: ä»¥ç”¨æˆ·éœ€æ±‚ä¸ºä¸­å¿ƒçš„å†…å®¹ç­–ç•¥
- **å¹³å°ç†è§£**: æ·±å…¥ç†è§£å¹³å°æœºåˆ¶å’Œç”¨æˆ·ç‰¹å¾
- **æŒç»­æ”¹è¿›**: åŸºäºåé¦ˆçš„æŒç»­ä¼˜åŒ–èƒ½åŠ›""")
    
    def _generate_risk_assessment(self, platform: str, content_type: str) -> str:
        """ç”Ÿæˆé£é™©è¯„ä¼°"""
        risks = {
            ('douyin', 'short_video'): """- **å†…å®¹åŒè´¨åŒ–**: è·Ÿé£å†…å®¹å¯èƒ½å¯¼è‡´ç¼ºä¹å·®å¼‚åŒ–ç«äº‰åŠ›
- **ç®—æ³•ä¾èµ–**: è¿‡åº¦ä¾èµ–å¹³å°æ¨èå¯èƒ½å½±å“è´¦å·ç¨³å®šæ€§
- **æ³¨æ„åŠ›ç«äº‰**: æ¿€çƒˆçš„ç”¨æˆ·æ³¨æ„åŠ›äº‰å¤ºæˆ˜
- **è¶‹åŠ¿å˜åŒ–**: å¿«é€Ÿå˜åŒ–çš„çƒ­ç‚¹å’Œç”¨æˆ·åå¥½""",
            
            ('xiaohongshu', 'lifestyle_note'): """- **ä¿¡ä»»å±æœº**: è¿‡åº¦å•†ä¸šåŒ–å¯èƒ½æŸå®³ç”¨æˆ·ä¿¡ä»»
- **å†…å®¹å®¡æ ¸**: å¹³å°å¯¹å•†ä¸šå†…å®¹çš„ä¸¥æ ¼å®¡æ ¸æœºåˆ¶
- **ç«äº‰åŠ å‰§**: ä¼˜è´¨åˆ›ä½œè€…æ•°é‡å¿«é€Ÿå¢é•¿
- **æµé‡è·å–**: è‡ªç„¶æµé‡è·å–éš¾åº¦é€æ¸å¢åŠ """,
            
            ('zhihu', 'knowledge_video'): """- **ä¸“ä¸šè¦æ±‚**: å¯¹å†…å®¹ä¸“ä¸šæ€§çš„é«˜æ ‡å‡†è¦æ±‚
- **æ—¶é—´æŠ•å…¥**: åˆ¶ä½œé«˜è´¨é‡å†…å®¹éœ€è¦å¤§é‡æ—¶é—´æˆæœ¬
- **å—ä¼—æœ‰é™**: ä¸“ä¸šå†…å®¹çš„å—ä¼—èŒƒå›´ç›¸å¯¹è¾ƒå°
- **ç«äº‰å‹åŠ›**: ä¸“ä¸šé¢†åŸŸçš„æƒå¨ç«äº‰""",
            
            ('zhihu', 'article'): """- **åˆ›ä½œé—¨æ§›**: æ·±åº¦å†…å®¹åˆ›ä½œçš„é«˜æŠ€èƒ½è¦æ±‚
- **è¯»è€…æœŸå¾…**: ç”¨æˆ·å¯¹å†…å®¹è´¨é‡çš„é«˜æœŸå¾…å€¼
- **æ—¶æ•ˆæ€§**: éƒ¨åˆ†å†…å®¹å¯èƒ½é¢ä¸´æ—¶æ•ˆæ€§æŒ‘æˆ˜
- **è§‚ç‚¹äº‰è®®**: æ·±åº¦è§‚ç‚¹å¯èƒ½å¼•å‘äº‰è®®æ€§è®¨è®º""",
            
            ('zhihu', 'qa_answer'): """- **å‡†ç¡®æ€§å‹åŠ›**: å›ç­”é”™è¯¯å¯èƒ½å½±å“ä¸ªäººå£°èª‰
- **çŸ¥è¯†æ›´æ–°**: éœ€è¦æŒç»­æ›´æ–°ä¸“ä¸šçŸ¥è¯†
- **ç«äº‰æ¿€çƒˆ**: ä¼˜è´¨ç­”ä¸»çš„ç«äº‰å‹åŠ›
- **æ—¶é—´åˆ†é…**: é«˜è´¨é‡å›ç­”éœ€è¦å……è¶³æ—¶é—´æŠ•å…¥"""
        }
        
        key = (platform, content_type)
        return risks.get(key, """- **å¹³å°å˜åŒ–**: å¹³å°æ”¿ç­–å’Œç®—æ³•çš„ä¸ç¡®å®šæ€§å˜åŒ–
- **ç«äº‰åŠ å‰§**: å†…å®¹åˆ›ä½œè€…æ•°é‡æŒç»­å¢é•¿å¸¦æ¥çš„ç«äº‰
- **ç”¨æˆ·å˜åŒ–**: ç”¨æˆ·éœ€æ±‚å’Œåå¥½çš„åŠ¨æ€å˜åŒ–
- **æŠ€æœ¯å‘å±•**: æ–°æŠ€æœ¯å¯¹ç°æœ‰å†…å®¹å½¢å¼çš„å†²å‡»""")
    
    def _generate_content_optimization(self, platform: str, content_type: str) -> str:
        """ç”Ÿæˆå†…å®¹ä¼˜åŒ–å»ºè®®"""
        optimizations = {
            ('douyin', 'short_video'): """- **å¼€å¤´ä¼˜åŒ–**: å‰3ç§’å¿…é¡»åŒ…å«æ ¸å¿ƒä¿¡æ¯æˆ–å¼ºçƒˆè§†è§‰å†²å‡»
- **èŠ‚å¥æ§åˆ¶**: ä¿æŒç´§å‡‘çš„å†…å®¹èŠ‚å¥ï¼Œé¿å…æ‹–æ²“
- **è§†è§‰æå‡**: æ”¹å–„ç”»é¢è´¨é‡ã€è‰²å½©æ­é…å’Œæ„å›¾è®¾è®¡
- **éŸ³é¢‘ä¼˜åŒ–**: é€‰æ‹©åˆé€‚çš„èƒŒæ™¯éŸ³ä¹å’ŒéŸ³æ•ˆæ­é…""",
            
            ('xiaohongshu', 'lifestyle_note'): """- **å›¾ç‰‡è´¨é‡**: æå‡æ‹æ‘„æŠ€å·§å’ŒåæœŸå¤„ç†æ°´å¹³
- **æ ‡é¢˜ä¼˜åŒ–**: åˆ›ä½œå¸å¼•äººä¸”åŒ…å«å…³é”®è¯çš„æ ‡é¢˜
- **å†…å®¹ç»“æ„**: åˆç†ç»„ç»‡å›¾æ–‡å†…å®¹ï¼Œæå‡å¯è¯»æ€§
- **è¯é¢˜è¿ç”¨**: æ°å½“ä½¿ç”¨çƒ­é—¨è¯é¢˜å’Œæ ‡ç­¾""",
            
            ('zhihu', 'knowledge_video'): """- **å†…å®¹æ·±åº¦**: å¢åŠ ä¸“ä¸šçŸ¥è¯†çš„æ·±åº¦å’Œå¹¿åº¦
- **è¡¨è¾¾ä¼˜åŒ–**: æå‡å£è¯­è¡¨è¾¾å’Œé€»è¾‘ç»„ç»‡èƒ½åŠ›
- **è§†è§‰è¾…åŠ©**: å¢åŠ å›¾è¡¨ã€åŠ¨ç”»ç­‰è§†è§‰è¾…åŠ©å…ƒç´ 
- **ç»“æ„å®Œå–„**: ä¼˜åŒ–å†…å®¹æ¶æ„å’ŒçŸ¥è¯†ä¼ é€’é€»è¾‘""",
            
            ('zhihu', 'article'): """- **é€»è¾‘å¼ºåŒ–**: åŠ å¼ºè®ºè¯é€»è¾‘å’Œè§‚ç‚¹æ”¯æ’‘
- **å†…å®¹ä¸°å¯Œ**: å¢åŠ æ¡ˆä¾‹ã€æ•°æ®å’Œå®ç”¨ä¿¡æ¯
- **å¯è¯»æ€§**: ä¼˜åŒ–æ–‡ç« ç»“æ„å’Œè¯­è¨€è¡¨è¾¾
- **ä»·å€¼æå‡**: å¢å¼ºå†…å®¹çš„å®ç”¨æ€§å’Œå¯å‘æ€§""",
            
            ('zhihu', 'qa_answer'): """- **å›ç­”å®Œæ•´**: å…¨é¢å›ç­”é—®é¢˜çš„å„ä¸ªæ–¹é¢
- **å®ç”¨å¯¼å‘**: æä¾›æ›´å¤šå¯æ“ä½œçš„å…·ä½“å»ºè®®
- **æ¡ˆä¾‹è¡¥å……**: å¢åŠ å®é™…æ¡ˆä¾‹å’Œç»éªŒåˆ†äº«
- **æŒç»­æ›´æ–°**: æ ¹æ®æ–°æƒ…å†µåŠæ—¶æ›´æ–°å›ç­”å†…å®¹"""
        }
        
        key = (platform, content_type)
        return optimizations.get(key, """- **è´¨é‡æå‡**: ä»åˆ¶ä½œæŠ€æœ¯åˆ°å†…å®¹æ·±åº¦çš„å…¨é¢æå‡
- **ç”¨æˆ·ä½“éªŒ**: ä¼˜åŒ–å†…å®¹çš„å¯è¯»æ€§å’Œç”¨æˆ·ä½“éªŒ
- **å·®å¼‚åŒ–**: æ‰“é€ ç‹¬ç‰¹çš„å†…å®¹ç‰¹è‰²å’Œä¸ªäººé£æ ¼
- **ä»·å€¼å¢å¼º**: æå‡å†…å®¹çš„å®ç”¨æ€§å’Œå‚è€ƒä»·å€¼""")
    
    def _generate_distribution_strategy(self, platform: str, content_type: str) -> str:
        """ç”Ÿæˆä¼ æ’­ç­–ç•¥å»ºè®®"""
        strategies = {
            ('douyin', 'short_video'): """- **å‘å¸ƒæ—¶æœº**: é€‰æ‹©ç”¨æˆ·æ´»è·ƒåº¦é«˜çš„æ—¶é—´æ®µå‘å¸ƒ
- **è¯é¢˜è¿ç”¨**: ç§¯æå‚ä¸å¹³å°çƒ­ç‚¹è¯é¢˜å’ŒæŒ‘æˆ˜
- **äº’åŠ¨ç­–ç•¥**: åŠæ—¶å›å¤è¯„è®ºï¼Œé¼“åŠ±ç”¨æˆ·äº’åŠ¨
- **æŒç»­ä¼˜åŒ–**: åŸºäºæ•°æ®åé¦ˆè°ƒæ•´å†…å®¹ç­–ç•¥""",
            
            ('xiaohongshu', 'lifestyle_note'): """- **å…³é”®è¯å¸ƒå±€**: åœ¨æ ‡é¢˜å’Œå†…å®¹ä¸­åˆç†å¸ƒå±€æœç´¢å…³é”®è¯
- **è¯é¢˜é€‰æ‹©**: é€‰æ‹©ä¸å†…å®¹é«˜åº¦ç›¸å…³çš„è¯é¢˜æ ‡ç­¾
- **ç¤¾ç¾¤è¿è¥**: ç§¯æå‚ä¸ç›¸å…³å…´è¶£ç¤¾ç¾¤è®¨è®º
- **åˆä½œæ¨å¹¿**: ä¸å…¶ä»–åšä¸»è¿›è¡Œå†…å®¹åˆä½œ""",
            
            ('zhihu', 'knowledge_video'): """- **è¯é¢˜é€‰æ‹©**: é€‰æ‹©çƒ­åº¦é€‚ä¸­ä¸”ä¸“ä¸šå¯¹å£çš„è¯é¢˜
- **æ—¶æ•ˆå‘å¸ƒ**: æŠŠæ¡è¯é¢˜çƒ­åº¦çš„æœ€ä½³å‘å¸ƒæ—¶æœº
- **ä¸“ä¸šå±•ç¤º**: é€šè¿‡å†…å®¹å±•ç¤ºä¸“ä¸šèƒ½åŠ›å’ŒçŸ¥è¯†æ·±åº¦
- **é•¿æœŸä»·å€¼**: å…³æ³¨å†…å®¹çš„é•¿æœŸä»·å€¼å’ŒæŒç»­ä¼ æ’­""",
            
            ('zhihu', 'article'): """- **è¯é¢˜çƒ­åº¦**: å…³æ³¨ç›¸å…³è¯é¢˜çš„çƒ­åº¦å˜åŒ–
- **è§‚ç‚¹ç‹¬ç‰¹**: æä¾›ç‹¬ç‰¹ä¸”æœ‰ä»·å€¼çš„è§‚ç‚¹è§’åº¦
- **å¼•å‘è®¨è®º**: è®¾è®¡èƒ½å¤Ÿå¼•å‘è®¨è®ºçš„è§‚ç‚¹æˆ–é—®é¢˜
- **æƒå¨å»ºç«‹**: é€šè¿‡æŒç»­è¾“å‡ºå»ºç«‹ä¸“ä¸šæƒå¨æ€§""",
            
            ('zhihu', 'qa_answer'): """- **é—®é¢˜é€‰æ‹©**: é€‰æ‹©æœ‰å›ç­”ä»·å€¼ä¸”ç¬¦åˆä¸“é•¿çš„é—®é¢˜
- **åŠæ—¶å›åº”**: åœ¨é—®é¢˜çƒ­åº¦æœŸå†…åŠæ—¶æä¾›å›ç­”
- **è´¨é‡ä¿è¯**: ç¡®ä¿å›ç­”çš„å‡†ç¡®æ€§å’Œå®Œæ•´æ€§
- **åç»­ç»´æŠ¤**: æ ¹æ®æƒ…å†µè¡¥å……å’Œæ›´æ–°å›ç­”å†…å®¹"""
        }
        
        key = (platform, content_type)
        return strategies.get(key, """- **å¹³å°æœºåˆ¶**: æ·±å…¥äº†è§£å¹¶å……åˆ†åˆ©ç”¨å¹³å°æ¨èæœºåˆ¶
- **æ—¶æœºæŠŠæ¡**: é€‰æ‹©æœ€ä½³çš„å‘å¸ƒæ—¶é—´å’Œçƒ­ç‚¹æ—¶æœº
- **å¤šæ¸ é“**: ç»“åˆå¹³å°å†…å¤–çš„å¤šç§ä¼ æ’­æ¸ é“
- **æ•°æ®é©±åŠ¨**: åŸºäºæ•°æ®åˆ†ææŒç»­ä¼˜åŒ–ä¼ æ’­ç­–ç•¥""")
    
    def _generate_improvement_suggestions(self, platform: str, content_type: str) -> str:
        """ç”ŸæˆæŒç»­æ”¹è¿›å»ºè®®"""
        suggestions = {
            ('douyin', 'short_video'): """- **æ•°æ®ç›‘æ§**: å®šæœŸåˆ†ææ’­æ”¾é‡ã€äº’åŠ¨ç‡ç­‰å…³é”®æŒ‡æ ‡
- **ç”¨æˆ·åé¦ˆ**: å…³æ³¨è¯„è®ºåŒºç”¨æˆ·åé¦ˆï¼ŒåŠæ—¶è°ƒæ•´æ–¹å‘
- **è¶‹åŠ¿è·Ÿè¸ª**: æŒç»­å…³æ³¨å¹³å°æ–°åŠŸèƒ½å’Œçƒ­ç‚¹è¶‹åŠ¿
- **æŠ€èƒ½æå‡**: ä¸æ–­å­¦ä¹ è§†é¢‘åˆ¶ä½œå’Œå‰ªè¾‘æŠ€å·§""",
            
            ('xiaohongshu', 'lifestyle_note'): """- **æ•°æ®åˆ†æ**: å…³æ³¨ç¬”è®°çš„æµè§ˆé‡ã€æ”¶è—é‡ã€è¯„è®ºè´¨é‡
- **ç”¨æˆ·æ´å¯Ÿ**: æ·±å…¥äº†è§£ç›®æ ‡ç”¨æˆ·çš„éœ€æ±‚å˜åŒ–
- **å†…å®¹è¿­ä»£**: åŸºäºç”¨æˆ·åé¦ˆæŒç»­ä¼˜åŒ–å†…å®¹è´¨é‡
- **æŠ€èƒ½å‘å±•**: æå‡æ‘„å½±ã€å†™ä½œå’Œå®¡ç¾èƒ½åŠ›""",
            
            ('zhihu', 'knowledge_video'): """- **ä¸“ä¸šæå‡**: æŒç»­å­¦ä¹ å’Œæ›´æ–°ä¸“ä¸šçŸ¥è¯†
- **åˆ¶ä½œæŠ€å·§**: æ”¹è¿›è§†é¢‘åˆ¶ä½œå’Œæ¼”è®²æŠ€å·§
- **ç”¨æˆ·éœ€æ±‚**: å…³æ³¨ç”¨æˆ·çš„çŸ¥è¯†éœ€æ±‚å’Œå­¦ä¹ åå¥½
- **å†…å®¹è§„åˆ’**: åˆ¶å®šé•¿æœŸçš„å†…å®¹è¾“å‡ºè®¡åˆ’""",
            
            ('zhihu', 'article'): """- **å†™ä½œæŠ€å·§**: æŒç»­æå‡å†™ä½œèƒ½åŠ›å’Œè¡¨è¾¾æŠ€å·§
- **çŸ¥è¯†æ›´æ–°**: ä¿æŒå¯¹ç›¸å…³é¢†åŸŸçš„çŸ¥è¯†æ›´æ–°
- **è¯»è€…äº’åŠ¨**: åŠ å¼ºä¸è¯»è€…çš„äº’åŠ¨å’Œäº¤æµ
- **å†…å®¹æ·±åŒ–**: ä¸æ–­æ·±åŒ–å†…å®¹çš„ä¸“ä¸šåº¦å’Œä»·å€¼""",
            
            ('zhihu', 'qa_answer'): """- **ä¸“ä¸šæˆé•¿**: æŒç»­æå‡ä¸“ä¸šèƒ½åŠ›å’ŒçŸ¥è¯†å¹¿åº¦
- **å›ç­”è´¨é‡**: ä¸æ–­æé«˜å›ç­”çš„è´¨é‡å’Œå®ç”¨æ€§
- **é¢†åŸŸæ·±è€•**: åœ¨ç‰¹å®šé¢†åŸŸå»ºç«‹ä¸“ä¸šå½±å“åŠ›
- **ç¤¾åŒºè´¡çŒ®**: ç§¯æä¸ºçŸ¥è¯†ç¤¾åŒºè´¡çŒ®ä»·å€¼"""
        }
        
        key = (platform, content_type)
        return suggestions.get(key, """- **æŒç»­å­¦ä¹ **: ä¿æŒå¯¹è¡Œä¸šå‘å±•å’Œå¹³å°å˜åŒ–çš„æ•æ„Ÿåº¦
- **æŠ€èƒ½æå‡**: ä¸æ–­æå‡å†…å®¹åˆ›ä½œå’Œè¡¨è¾¾èƒ½åŠ›
- **ç”¨æˆ·ç ”ç©¶**: æ·±å…¥ç ”ç©¶ç›®æ ‡ç”¨æˆ·çš„éœ€æ±‚å’Œè¡Œä¸º
- **ç­–ç•¥è°ƒæ•´**: åŸºäºæ•°æ®å’Œåé¦ˆåŠæ—¶è°ƒæ•´ç­–ç•¥æ–¹å‘""")
    
    def _generate_analysis_summary(self, platform_cn: str, content_type: str, core_topic: str) -> str:
        """ç”Ÿæˆåˆ†ææ€»ç»“"""
        content_type_desc = self._get_content_type_desc(content_type)
        
        return f"""é€šè¿‡å¯¹{platform_cn}å¹³å°{content_type_desc}çš„æ·±åº¦åˆ†æï¼Œæˆ‘ä»¬å‘ç°æˆåŠŸçš„å†…å®¹åˆ›ä½œéœ€è¦åœ¨ç†è§£å¹³å°æœºåˆ¶ã€æŠŠæ¡ç”¨æˆ·éœ€æ±‚ã€æå‡å†…å®¹è´¨é‡ä¸‰ä¸ªç»´åº¦ä¸Šå½¢æˆåˆåŠ›ã€‚

**æ ¸å¿ƒæ´å¯Ÿ**: {core_topic}çš„æˆåŠŸå…³é”®åœ¨äºå¹³å°é€‚é…æ€§ä¸å†…å®¹ä»·å€¼çš„æœ‰æœºç»“åˆã€‚

**å®æ–½è¦ç‚¹**: 
1. æ·±åº¦ç†è§£å¹³å°ç®—æ³•å’Œç”¨æˆ·è¡Œä¸ºç‰¹å¾
2. æŒç»­æå‡å†…å®¹è´¨é‡å’Œè¡¨è¾¾èƒ½åŠ›  
3. å»ºç«‹æœ‰æ•ˆçš„ç”¨æˆ·äº’åŠ¨å’Œåé¦ˆæœºåˆ¶
4. åŸºäºæ•°æ®åˆ†æè¿›è¡Œç­–ç•¥æŒç»­ä¼˜åŒ–

é€šè¿‡ç³»ç»Ÿæ€§çš„åˆ†æå’ŒæŒç»­çš„ä¼˜åŒ–å®è·µï¼Œèƒ½å¤Ÿåœ¨{platform_cn}å¹³å°ä¸Šå®ç°å†…å®¹ä»·å€¼çš„æœ€å¤§åŒ–ä¼ æ’­ã€‚"""

def generate_content_analysis_document(video_data: Dict[str, Any]) -> str:
    """
    ç”Ÿæˆç»Ÿä¸€æ ¼å¼çš„å†…å®¹åˆ†ææ–‡æ¡£
    
    å‚æ•°:
        video_data: å†…å®¹æå–æ•°æ®
        
    è¿”å›:
        Markdownæ ¼å¼çš„åˆ†ææ–‡æ¡£
    """
    analyzer = ContentAnalyzer()
    return analyzer.analyze_and_generate_document(video_data) 